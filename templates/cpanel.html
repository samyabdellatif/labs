{% extends "base.html" %}
{% block labTable %}
  <div class="container">
    <h2>Control Panel</h2>
    <p>This page is reserved for future use.</p>

    {% if session.get('user') %}
      <hr/>
      <h3>Change Password ({{ session.get('user') }})</h3>
      {% if error %}
        <div style="color:red">{{ error }}</div>
      {% endif %}
      {% if success %}
        <div style="color:green">{{ success }}</div>
      {% endif %}
      <form method="POST" action="/change_password" style="max-width:400px;margin-top:10px;">
        <div style="margin-bottom:10px;">
          <label>Current password</label>
          <input type="password" name="current_password" required style="width:100%;padding:8px;" />
        </div>
        <div style="margin-bottom:10px;">
          <label>New password</label>
          <input type="password" name="new_password" required style="width:100%;padding:8px;" />
        </div>
        <div style="margin-bottom:10px;">
          <label>Confirm new password</label>
          <input type="password" name="confirm_password" required style="width:100%;padding:8px;" />
        </div>
        <div style="text-align:center;"><button type="submit">Change Password</button></div>
      </form>
    {% endif %}
  </div>
{% endblock %}
