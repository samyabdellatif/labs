{% extends "base.html" %}
{% block classroomTable %}
  <div class="container">
    <h2>Control Panel</h2>
    <p>This page is reserved for future use.</p>

    {% if session.get('user') %}
      <hr/>
      <h3>Change Password ({{ session.get('user') }})</h3>
      {% if error %}
        <div style="color:red">{{ error }}</div>
      {% endif %}
      {% if success %}
        <div style="color:green">{{ success }}</div>
      {% endif %}
      <form method="POST" action="/change_password" style="max-width:400px;margin-top:10px;">
        <div style="margin-bottom:10px;">
          <label>Current password</label>
          <input type="password" name="current_password" required style="width:100%;padding:8px;" />
        </div>
        <div style="margin-bottom:10px;">
          <label>New password</label>
          <input type="password" name="new_password" required style="width:100%;padding:8px;" />
        </div>
        <div style="margin-bottom:10px;">
          <label>Confirm new password</label>
          <input type="password" name="confirm_password" required style="width:100%;padding:8px;" />
        </div>
        <div style="text-align:center;"><button type="submit">Change Password</button></div>
      </form>

      <hr/>
      <h3>Weekday Option</h3>
      <form method="POST" action="/update_settings" style="max-width:400px;margin-top:10px;">
        <div style="margin-bottom:10px;">
          <label for="weekday_option">Choose weekdays</label>
          <select id="weekday_option" name="weekday_option" style="width:100%;padding:8px;">
            <option value="sun-thu" {% if weekday_option == 'sun-thu' %}selected{% endif %}>Sun, Mon, Tue, Wed, Thu</option>
            <option value="mon-fri" {% if weekday_option == 'mon-fri' %}selected{% endif %}>Mon, Tue, Wed, Thu, Fri</option>
          </select>
        </div>
        <div style="text-align:center;"><button type="submit">Save Settings</button></div>
      </form>
    {% endif %}
  </div>
{% endblock %}
